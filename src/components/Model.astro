---
import { getCollection, getEntryBySlug } from 'astro:content';
const oneProj = await getEntryBySlug('proj', 'joya')
---

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
    <model-viewer 
        src={oneProj.data.path} 
        ar ar-modes={oneProj.data.armodes} 
        touch-action="pan-y"
        disable-tap
        poster={oneProj.data.poster}
        shadow-intensity={oneProj.data.shadow}
        camera-orbit="calc(30deg - env(window-scroll-y) * 60deg) 75deg 1.5m"
        field-of-view={oneProj.data.fov}
        environment-image={oneProj.data.light}
    </model-viewer>
<style>
    model-viewer {
        width: 100vw;
        height: 100vh;
        position: fixed;
    }
</style>